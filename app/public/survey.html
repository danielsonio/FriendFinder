<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>FriendFinder Home</title>

  <!-- Latest compiled and minified CSS -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
  <script src="https://code.jquery.com/jquery.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
</head>

  <body>

  	<div class="container">

      <h2>Survey Questions</h2>
      <hr>
      <h3><strong>About You</strong></h3>
      <div class="form-group">
          <label for="name">Name (Required)</label>
          <input type="text" class="form-control" id="name">
        </div>
        <div class="form-group">
          <label for="photo">Link to Photo Image (Required)</label>
          <input type="text" class="form-control" id="photo">
      </div>

      <hr>

      <h3>Question 1</h3>
      <div class="form-group">
        <label for="sel1">Unicorns exist and they live secretly among us</label>
        <select class="form-control" id="sel1">
            <option value="1">1 (Strongly Disagree)</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5 (Strongly Agree)</option>
          </select>
      </div>
      <h3>Question 2</h3>
      <div class="form-group">
        <label for="sel2">I don't care what Neil DeGrasse Tyson says, Pluto is still a planet</label>
        <select class="form-control" id="sel2">
          <option value="1">1 (Strongly Disagree)</option>
          <option value="2">2</option>
          <option value="3">3</option>
          <option value="4">4</option>
          <option value="5">5 (Strongly Agree)</option>
        </select>
      </div>
      <h3>Question 3</h3>
      <div class="form-group">
        <label for="sel3">No gluten, no dairy</label>
        <select class="form-control" id="sel3">
          <option value="1">1 (Strongly Disagree)</option>
          <option value="2">2</option>
          <option value="3">3</option>
          <option value="4">4</option>
          <option value="5">5 (Strongly Agree)</option>
        </select>
      </div>
      <h3>Question 4</h3>
      <div class="form-group">
        <label for="sel4">Run Forrest, run!</label>
        <select class="form-control" id="sel4">
          <option value="1">1 (Strongly Disagree)</option>
          <option value="2">2</option>
          <option value="3">3</option>
          <option value="4">4</option>
          <option value="5">5 (Strongly Agree)</option>
        </select>
      </div>
      <h3>Question 5</h3>
      <div class="form-group">
        <label for="sel5">This nacho platter is for the table</label>
        <select class="form-control" id="sel5">
            <option value="1">1 (Strongly Disagree)</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5 (Strongly Agree)</option>
        </select>
      </div>
      <h3>Question 6</h3>
      <div class="form-group">
        <label for="sel6">Dippin Dots are ice cream</label>
        <select class="form-control" id="sel6">
          <option value="1">1 (Strongly Disagree)</option>
          <option value="2">2</option>
          <option value="3">3</option>
          <option value="4">4</option>
          <option value="5">5 (Strongly Agree)</option>
        </select>
      </div>
      <h3>Question 7</h3>
      <div class="form-group">
        <label for="sel7">Fried tarantula on a stick is a good snack</label>
        <select class="form-control" id="sel7">
          <option value="1">1 (Strongly Disagree)</option>
          <option value="2">2</option>
          <option value="3">3</option>
          <option value="4">4</option>
          <option value="5">5 (Strongly Agree)</option>
        </select>
      </div>
      <h3>Question 8</h3>
      <div class="form-group">
        <label for="sel8">Zoos are tragic</label>
        <select class="form-control" id="sel8">
          <option value="1">1 (Strongly Disagree)</option>
          <option value="2">2</option>
          <option value="3">3</option>
          <option value="4">4</option>
          <option value="5">5 (Strongly Agree)</option>
        </select>
      </div>
      <h3>Question 9</h3>
      <div class="form-group">
        <label for="sel9">Who cares how GIF is pronounced?</label>
        <select class="form-control" id="sel9">
          <option value="1">1 (Strongly Disagree)</option>
          <option value="2">2</option>
          <option value="3">3</option>
          <option value="4">4</option>
          <option value="5">5 (Strongly Agree)</option>
        </select>
      </div>
      <h3>Question 10</h3>
      <div class="form-group">
        <label for="sel10">"You betcha" or "Okie dokie"</label>
        <select class="form-control" id="sel10">
          <option value="1">1 (You betcha)</option>
          <option value="2">2</option>
          <option value="3">3</option>
          <option value="4">4</option>
          <option value="5">5 (Okie dokie)</option>
        </select>
      </div>

      <button type="submit" class="btn btn-primary btn-lg btn-block" style="font-size:32px" id="submit"><i class="fa fa-venus-mars" style="font-size:32px"></i>
   Submit</button>

      <hr>

      <footer class="footer">
        <div class="container">
          <p><a href="/api/friends">API Friends</a> | <a href="https://github.com/dwalden86/FriendFinder">GitHub Repo</a></p>
        </div>
      </footer>
    </div>

  </body>

</html>

<!-- BELOW CODE IS CRITICAL. IT HANDLES HOW FORM DATA IS SENT TO OUR SERVER -->
<script type="text/javascript">

    // In this code below we create the Front-end JavaScript which "POSTS" our form data to our express server.
    // In essence, when the user hits submit, jQuery grabs all of the fields then sends a post request to our api
    // Our api recognizes the route (/api/friends)... and then runs the associated code (found in api-routes.js).
    // In this case the associated code "saves" the data to the table-data.js file or waitinglist-data.js file

    $("#submit").on("click", function(event) {
      event.preventDefault();

      // Here we grab the form elements
      var newFriend = {
        name: $("#name").val().trim(),
        photo: $("#photo").val().trim(),
    	  questionData: [$("#sel1").val(), $("#sel2").val(), $("#sel3").val(), $("#sel4").val(), $("#sel5").val(), $("#sel6").val(), $("#sel7").val(), $("#sel8").val(), $("#sel9").val(), $("#sel10").val()]
      };

      console.log(newFriend);

      // This line is the magic. It"s very similar to the standard ajax function we used.
      // Essentially we give it a URL, we give it the object we want to send, then we have a "callback".
      // The callback is the response of the server. In our case, we set up code in api-routes that "returns" true or false
      // depending on if a tables is available or not.

      // $.post("/api/friends", newReservation,
      //   function(data) {
      //
      //     // If a table is available... tell user they are booked.
      //     if (data) {
      //       alert("Yay! You are officially booked!");
      //     }
      //
      //     // If a table is available... tell user they on the waiting list.
      //     else {
      //       alert("Sorry you are on the wait list");
      //     }
      //
      //     // Clear the form when submitting
      //     $("#reserve-name").val("");
      //     $("#reserve-phone").val("");
      //     $("#reserve-email").val("");
      //     $("#reserve-unique-id").val("");
      //
      //   });

    });

</script>
